import java.util.ArrayList;
import java.util.Arrays;
import java.util.Collections;
import java.util.Random;
import java.util.Scanner;

public class Main {

	public static void main(String[] args) {
		Scanner scanner =new Scanner(System.in);
		// TODO Auto-generated method stub
		ArrayList<Domino> listeDomino=new ArrayList<>();
		ArrayList<Domino> listeDominoTirage=new ArrayList<>();
		int nbrJoueur=0;
		int nbrIA=0;
		while(nbrJoueur>4 || nbrJoueur<2) {
			System.out.println("Nombre de Joueurs ? (2,3,4)");
			nbrJoueur=scanner.nextInt();
			System.out.println("Nombre d'IA");
			nbrIA=scanner.nextInt();
		}
		Game game=new Game(nbrJoueur,listeDomino);
		scanner.nextLine();
		ArrayList<Joueur> listeJoueur=new ArrayList<>();
		
		for(int i=1;i<=nbrIA;i++) {
			int[][] plateau2=new int[12][12];
			String[][]plateau=new String[12][12];
			plateau[5][5]="Chateau";
			Joueur joueur = new Joueur("IA "+i,"Gris",plateau,plateau2,false);
			listeJoueur.add(joueur);
			if(nbrJoueur==2) {
				listeJoueur.add(joueur);
			}
		}
		for(int k=1;k<=nbrJoueur-nbrIA;k++) {
			int[][] plateau2=new int[12][12];
			String[][]plateau=new String[12][12];
			plateau[5][5]="Chateau";
			System.out.println("Joueur "+k);
			System.out.println("Votre nom");
			String name=scanner.nextLine();
			boolean flag=true;
			ArrayList<String> listeCouleur=new ArrayList(Arrays.asList("Vert","vert","Bleu","bleu","Rose","rose","Jaune","jaune"));
			String color="";
			while(flag) {
				System.out.println("Votre couleur (Rose, Vert, Bleu ou Jaune)");
				color=scanner.nextLine();
				if(listeCouleur.contains(color)){
					flag=false;
				}
			}
			Joueur joueur =new Joueur(name,color,plateau,plateau2,true);
			listeJoueur.add(joueur);
			if(nbrJoueur==2) {
				listeJoueur.add(joueur);
			}
		}
		
		Collections.shuffle(listeJoueur);
		listeDomino=game.creationDomino(nbrJoueur);
		System.out.println(listeJoueur.size());
		while(listeDomino.size()!=0) {
			listeDominoTirage=game.tirageDomino(nbrJoueur,listeDomino);
			ArrayList <Joueur> listeJoueurPlacage = new ArrayList(listeJoueur);
			ArrayList<Domino> listeDominoSortie=game.choixDomino(listeDominoTirage,listeJoueur);
			listeJoueurPlacage.get(0).afficherPlateau(listeJoueurPlacage.get(0).getPlateau(),listeJoueurPlacage.get(0).getPlateau2());
			game.tourPlacageDomino(listeJoueurPlacage,listeDominoSortie);
		}
		ArrayList<Integer> listeResultat = new ArrayList<>();
		for(int i=0;i<nbrJoueur;i++) {
			int total=listeJoueur.get(i).comptagePoints(listeJoueur.get(i).getPlateau(), listeJoueur.get(i).getPlateau2());
			System.out.println(listeJoueur.get(i).getName());
			System.out.println(total);
			listeResultat.add(total);
		}
		int rangVainqueur=listeResultat.indexOf(Collections.max(listeResultat));
		System.out.println(listeJoueur.get(rangVainqueur).getName()+" est le vainqueur");
	}

}
